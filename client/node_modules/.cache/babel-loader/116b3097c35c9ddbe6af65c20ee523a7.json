{"ast":null,"code":"import _objectSpread from \"/Users/amandaguerrierorose/Desktop/Personal-Projects/wedding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/amandaguerrierorose/Desktop/Personal-Projects/wedding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/amandaguerrierorose/Desktop/Personal-Projects/wedding/client/src/components/RegisterModal/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Modal } from 'react-responsive-modal';\nimport { Link, useParams } from \"react-router-dom\";\nimport API from \"../../utils/API\";\nimport './style.css';\n\nfunction RegisterModal(props) {\n  var _useState = useState({\n    name: '',\n    email: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formState = _useState2[0],\n      setFormState = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMessage = _useState4[0],\n      setErrorMessage = _useState4[1];\n\n  var name = formState.name,\n      email = formState.email;\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      open = _useState6[0],\n      setOpen = _useState6[1];\n\n  var onOpenModal = function onOpenModal() {\n    return setOpen(true);\n  };\n\n  var onCloseModal = function onCloseModal() {\n    return setOpen(false);\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    API.registerUpdates({\n      name: formState.name,\n      emailAddress: formState.email\n    }).then(function (response) {\n      return response.json();\n    }).catch(function (err) {\n      return console.log(err);\n    });\n    console.log('Submit Form', formState);\n    triggerSuccess(name);\n  };\n\n  var handleChange = function handleChange(e) {\n    if (!errorMessage) {\n      setFormState(_objectSpread(_objectSpread({}, formState), {}, {\n        [e.target.name]: e.target.value\n      }));\n      console.log('Handle Form', formState);\n    }\n  };\n\n  function triggerSuccess(name) {\n    onCloseModal();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-updates\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"register-modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-updates-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Please register your email address for updates on lodging and detailed instructions closer to the wedding. (we promise to not spam you with emails!)\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"modal-close-icon\",\n    onClick: triggerSuccess,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"x\")), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"modal-contact-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"name-fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    className: \"modal-updates-field-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"modal-updates-field\",\n    name: \"name\",\n    defaultValue: name,\n    onBlur: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"email-fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    className: \"modal-updates-field-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Email address:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"modal-updates-field\",\n    name: \"email\",\n    defaultValue: email,\n    onBlur: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"button\",\n    type: \"submit\",\n    className: \"modal-updates-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Submit\"))));\n}\n\nexport default RegisterModal;","map":{"version":3,"sources":["/Users/amandaguerrierorose/Desktop/Personal-Projects/wedding/client/src/components/RegisterModal/index.js"],"names":["React","useState","useEffect","Modal","Link","useParams","API","RegisterModal","props","name","email","formState","setFormState","errorMessage","setErrorMessage","open","setOpen","onOpenModal","onCloseModal","handleSubmit","e","preventDefault","registerUpdates","emailAddress","then","response","json","catch","err","console","log","triggerSuccess","handleChange","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Modal } from 'react-responsive-modal';\nimport { Link, useParams } from \"react-router-dom\";\nimport API from \"../../utils/API\";\nimport './style.css';\n\nfunction RegisterModal (props) {\n  const [formState, setFormState] = useState({ name: '', email: ''});\n  \n  const [errorMessage, setErrorMessage] = useState('');\n  const { name, email} = formState;\n\n  const [open, setOpen] = useState(false);\n\n  const onOpenModal = () => setOpen(true);\n  const onCloseModal = () => setOpen(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n      API.registerUpdates({\n        name: formState.name,\n        emailAddress: formState.email\n      })\n        .then(response => response.json())\n        .catch(err => console.log(err));\n      console.log('Submit Form', formState);\n      triggerSuccess(name)\n  };\n\n  const handleChange = (e) => {\n  \n    if (!errorMessage) {\n      setFormState({ ...formState, [e.target.name]: e.target.value });\n      console.log('Handle Form', formState);\n    }\n  };\n\n  function triggerSuccess(name) {\n    onCloseModal()\n  }\n\n  return (\n    \n    <div className=\"modal-updates\">\n      <section className=\"register-modal-body\">\n      <div className=\"modal-header\">\n      <div className=\"modal-updates-header\">Please register your email address for updates on lodging and detailed instructions closer to the wedding. (we promise to not spam you with emails!)</div>\n      <span className=\"modal-close-icon\" onClick={triggerSuccess}>x</span>\n        </div>\n        <form id=\"modal-contact-form\" onSubmit={handleSubmit}>\n          <div className=\"name-fields\">\n            <label htmlFor=\"name\" className=\"modal-updates-field-name\">Name:</label>\n            <input type=\"text\" className=\"modal-updates-field\" name=\"name\" defaultValue={name} onBlur={handleChange} />\n          </div>\n          <div className=\"email-fields\">\n            <label htmlFor=\"email\" className=\"modal-updates-field-name\">Email address:</label>\n            <input type=\"email\" className=\"modal-updates-field\" name=\"email\" defaultValue={email} onBlur={handleChange} />\n          </div>\n          <button data-testid=\"button\" type=\"submit\" className=\"modal-updates-submit\">Submit</button>\n        </form>\n      </section>\n    </div>\n  );\n}\n\nexport default RegisterModal;"]},"metadata":{},"sourceType":"module"}